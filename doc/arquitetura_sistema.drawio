<?xml version='1.0' encoding='utf-8'?>
<mxfile host="app.diagrams.net" modified="2025-01-01T00:00:00.000Z" agent="Claude Code Pro" version="22.1.0" type="device">
  <diagram name="Arquitetura Clean Architecture" id="architecture-v2">
    <mxGraphModel dx="2000" dy="1400" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3200" pageHeight="2400" math="0" shadow="0" background="#FFFFFF">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="main_title" value="&lt;b style='font-size:26px'&gt;ARQUITETURA DO SISTEMA - PRO TEAM CARE&lt;/b&gt;&lt;br/&gt;&lt;span style='font-size:14px'&gt;Clean Architecture (Hexagonal) + Multi-Tenant SaaS&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="20" width="3000" height="80" as="geometry" />
        </mxCell>
        <mxCell id="separator" value="" style="line;strokeWidth=3;fillColor=none;strokeColor=#2D7FDE;" vertex="1" parent="1">
          <mxGeometry x="100" y="100" width="3000" height="8" as="geometry" />
        </mxCell>
        <mxCell id="layer_frontend" value="&lt;b style='font-size:16px'&gt;ðŸŒ PRESENTATION LAYER - FRONTEND&lt;/b&gt;&lt;br/&gt;&lt;span style='font-size:11px'&gt;React 18 + TypeScript + TailwindCSS + Flowbite â€¢ SPA (Single Page Application)&lt;/span&gt;" style="swimlane;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=3;rounded=1;shadow=1;fontStyle=1;fontSize=14;swimlaneFillColor=#FFFFFF;startSize=60;" vertex="1" parent="1">
          <mxGeometry x="100" y="140" width="3000" height="340" as="geometry" />
        </mxCell>
        <mxCell id="frontend_pages" value="&lt;b&gt;ðŸ“„ PAGES (27)&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1565C0;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_frontend">
          <mxGeometry x="20" y="80" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="frontend_pages_items" value="&lt;span style='font-size:9px'&gt;â€¢ DashboardPage&lt;br/&gt;â€¢ CompaniesPage&lt;br/&gt;â€¢ EstablishmentsPage&lt;br/&gt;â€¢ ClientsPage&lt;br/&gt;â€¢ ContractsPage&lt;br/&gt;â€¢ MedicalAuthorizationsPage&lt;br/&gt;â€¢ BillingDashboardPage&lt;br/&gt;â€¢ UsersPage, RolesPage&lt;br/&gt;â€¢ ... e mais 19 pÃ¡ginas&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="frontend_pages">
          <mxGeometry x="0" y="30" width="280" height="185" as="geometry" />
        </mxCell>
        <mxCell id="frontend_components" value="&lt;b&gt;ðŸ§© COMPONENTS (50+)&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1565C0;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_frontend">
          <mxGeometry x="320" y="80" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="frontend_components_items" value="&lt;span style='font-size:9px'&gt;â€¢ Forms: CompanyForm,&lt;br/&gt;â€¢   ClientForm, ContractForm&lt;br/&gt;â€¢ Views: CompanyDetails,&lt;br/&gt;â€¢   ClientDetails, ContractDetails&lt;br/&gt;â€¢ UI: Button, Modal, DataTable,&lt;br/&gt;â€¢   Breadcrumb, Dropdown&lt;br/&gt;â€¢ Billing: ReceiptUpload&lt;br/&gt;â€¢ Dashboard widgets&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="frontend_components">
          <mxGeometry x="0" y="30" width="280" height="185" as="geometry" />
        </mxCell>
        <mxCell id="frontend_services" value="&lt;b&gt;ðŸ”Œ SERVICES (15+)&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#0D47A1;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_frontend">
          <mxGeometry x="620" y="80" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="frontend_services_items" value="&lt;span style='font-size:9px'&gt;â€¢ api.js (Axios client)&lt;br/&gt;â€¢ companiesService&lt;br/&gt;â€¢ establishmentsService&lt;br/&gt;â€¢ clientsService&lt;br/&gt;â€¢ contractsService&lt;br/&gt;â€¢ billingService&lt;br/&gt;â€¢ b2bBillingService&lt;br/&gt;â€¢ medicalAuthorizationsService&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="frontend_services">
          <mxGeometry x="0" y="30" width="280" height="185" as="geometry" />
        </mxCell>
        <mxCell id="frontend_hooks" value="&lt;b&gt;ðŸª CUSTOM HOOKS (10+)&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#0D47A1;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_frontend">
          <mxGeometry x="920" y="80" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="frontend_hooks_items" value="&lt;span style='font-size:9px'&gt;â€¢ useCompanyForm&lt;br/&gt;â€¢ useEstablishmentForm&lt;br/&gt;â€¢ useClientForm&lt;br/&gt;â€¢ useContractForm&lt;br/&gt;â€¢ useBreadcrumbs&lt;br/&gt;â€¢ useDataTable&lt;br/&gt;â€¢ useBillingDashboard&lt;br/&gt;â€¢ useAuth&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="frontend_hooks">
          <mxGeometry x="0" y="30" width="280" height="185" as="geometry" />
        </mxCell>
        <mxCell id="frontend_contexts" value="&lt;b&gt;ðŸŒ CONTEXTS&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0277BD;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_frontend">
          <mxGeometry x="1220" y="80" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="frontend_contexts_items" value="&lt;span style='font-size:9px'&gt;â€¢ AuthContext&lt;br/&gt;â€¢   - user, login, logout&lt;br/&gt;â€¢   - JWT token management&lt;br/&gt;â€¢   - isAuthenticated state&lt;br/&gt;â€¢ &lt;br/&gt;â€¢ ThemeContext&lt;br/&gt;â€¢   - Dark/Light mode&lt;br/&gt;â€¢   - Theme persistence&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="frontend_contexts">
          <mxGeometry x="0" y="30" width="280" height="185" as="geometry" />
        </mxCell>
        <mxCell id="frontend_routing" value="&lt;b&gt;ðŸ—ºï¸ ROUTING&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0277BD;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_frontend">
          <mxGeometry x="1520" y="80" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="frontend_routing_items" value="&lt;span style='font-size:9px'&gt;â€¢ React Router v6&lt;br/&gt;â€¢ /login (public)&lt;br/&gt;â€¢ /admin/* (protected)&lt;br/&gt;â€¢   - ProtectedRoute HOC&lt;br/&gt;â€¢   - AdminLayout wrapper&lt;br/&gt;â€¢   - Nested routes&lt;br/&gt;â€¢   - Dynamic params&lt;br/&gt;â€¢   - Breadcrumb navigation&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="frontend_routing">
          <mxGeometry x="0" y="30" width="280" height="185" as="geometry" />
        </mxCell>
        <mxCell id="tech_frontend" value="&lt;b&gt;Stack:&lt;/b&gt; React 18 â€¢ TypeScript â€¢ Vite â€¢ TailwindCSS â€¢ Flowbite â€¢ React Router v6 â€¢ Axios" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=2;fontStyle=1;fontSize=10;" vertex="1" parent="layer_frontend">
          <mxGeometry x="1820" y="100" width="1140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="layer_api" value="&lt;b style='font-size:16px'&gt;ðŸš€ PRESENTATION LAYER - BACKEND API&lt;/b&gt;&lt;br/&gt;&lt;span style='font-size:11px'&gt;FastAPI + Pydantic Schemas + Decorators de PermissÃµes&lt;/span&gt;" style="swimlane;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=3;rounded=1;shadow=1;fontStyle=1;fontSize=14;swimlaneFillColor=#FFFFFF;startSize=60;" vertex="1" parent="1">
          <mxGeometry x="100" y="520" width="3000" height="320" as="geometry" />
        </mxCell>
        <mxCell id="api_auth" value="&lt;b&gt;ðŸ” Auth &amp; Users&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF59D;strokeColor=#F9A825;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_api">
          <mxGeometry x="20" y="80" width="470" height="180" as="geometry" />
        </mxCell>
        <mxCell id="api_auth_items" value="&lt;span style='font-size:9px'&gt;â€¢ POST /login&lt;br/&gt;â€¢ POST /register&lt;br/&gt;â€¢ GET /me&lt;br/&gt;â€¢ GET /users&lt;br/&gt;â€¢ POST /users&lt;br/&gt;â€¢ PUT /users/{id}&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="api_auth">
          <mxGeometry x="0" y="30" width="470" height="145" as="geometry" />
        </mxCell>
        <mxCell id="api_companies" value="&lt;b&gt;ðŸ¢ Companies&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF59D;strokeColor=#F9A825;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_api">
          <mxGeometry x="510" y="80" width="470" height="180" as="geometry" />
        </mxCell>
        <mxCell id="api_companies_items" value="&lt;span style='font-size:9px'&gt;â€¢ GET /companies&lt;br/&gt;â€¢ POST /companies&lt;br/&gt;â€¢ GET /companies/{id}&lt;br/&gt;â€¢ PUT /companies/{id}&lt;br/&gt;â€¢ DELETE /companies/{id}&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="api_companies">
          <mxGeometry x="0" y="30" width="470" height="145" as="geometry" />
        </mxCell>
        <mxCell id="api_clients" value="&lt;b&gt;ðŸ‘¥ Clients&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF59D;strokeColor=#F9A825;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_api">
          <mxGeometry x="1000" y="80" width="470" height="180" as="geometry" />
        </mxCell>
        <mxCell id="api_clients_items" value="&lt;span style='font-size:9px'&gt;â€¢ GET /clients&lt;br/&gt;â€¢ POST /clients&lt;br/&gt;â€¢ GET /clients/{id}&lt;br/&gt;â€¢ PUT /clients/{id}&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="api_clients">
          <mxGeometry x="0" y="30" width="470" height="145" as="geometry" />
        </mxCell>
        <mxCell id="api_contracts" value="&lt;b&gt;ðŸ“ Contracts&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF59D;strokeColor=#F9A825;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_api">
          <mxGeometry x="1490" y="80" width="470" height="180" as="geometry" />
        </mxCell>
        <mxCell id="api_contracts_items" value="&lt;span style='font-size:9px'&gt;â€¢ GET /contracts&lt;br/&gt;â€¢ POST /contracts&lt;br/&gt;â€¢ GET /contracts/{id}&lt;br/&gt;â€¢ PUT /contracts/{id}&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="api_contracts">
          <mxGeometry x="0" y="30" width="470" height="145" as="geometry" />
        </mxCell>
        <mxCell id="api_billing" value="&lt;b&gt;ðŸ’° Billing&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF59D;strokeColor=#F9A825;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_api">
          <mxGeometry x="1980" y="80" width="470" height="180" as="geometry" />
        </mxCell>
        <mxCell id="api_billing_items" value="&lt;span style='font-size:9px'&gt;â€¢ GET /invoices&lt;br/&gt;â€¢ POST /invoices&lt;br/&gt;â€¢ GET /receipts&lt;br/&gt;â€¢ POST /receipts/upload&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="api_billing">
          <mxGeometry x="0" y="30" width="470" height="145" as="geometry" />
        </mxCell>
        <mxCell id="api_menus" value="&lt;b&gt;ðŸ“‹ Menus&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF59D;strokeColor=#F9A825;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_api">
          <mxGeometry x="2470" y="80" width="470" height="180" as="geometry" />
        </mxCell>
        <mxCell id="api_menus_items" value="&lt;span style='font-size:9px'&gt;â€¢ GET /menus&lt;br/&gt;â€¢ GET /menus/dynamic&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="api_menus">
          <mxGeometry x="0" y="30" width="470" height="145" as="geometry" />
        </mxCell>
        <mxCell id="routers_info" value="&lt;b&gt;38 Routers&lt;/b&gt; â€¢ &lt;b&gt;200+ Endpoints REST&lt;/b&gt; â€¢ AutenticaÃ§Ã£o JWT â€¢ Decoradores: @require_permission" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEB3B;strokeColor=#F57F17;strokeWidth=2;fontStyle=1;fontSize=11;" vertex="1" parent="layer_api">
          <mxGeometry x="20" y="270" width="2960" height="30" as="geometry" />
        </mxCell>
        <mxCell id="layer_app" value="&lt;b style='font-size:16px'&gt;âš™ï¸ APPLICATION LAYER&lt;/b&gt;&lt;br/&gt;&lt;span style='font-size:11px'&gt;Casos de Uso + LÃ³gica de NegÃ³cio + ServiÃ§os&lt;/span&gt;" style="swimlane;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;strokeWidth=3;rounded=1;shadow=1;fontStyle=1;fontSize=14;swimlaneFillColor=#FFFFFF;startSize=60;" vertex="1" parent="1">
          <mxGeometry x="100" y="880" width="3000" height="280" as="geometry" />
        </mxCell>
        <mxCell id="app_usecases" value="&lt;b&gt;ðŸ“‹ USE CASES&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A5D6A7;strokeColor=#2E7D32;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_app">
          <mxGeometry x="20" y="80" width="580" height="160" as="geometry" />
        </mxCell>
        <mxCell id="app_usecases_items" value="&lt;span style='font-size:9px'&gt;â€¢ CreateContractUseCase&lt;br/&gt;â€¢ DeleteCompanyUseCase&lt;br/&gt;â€¢ GenerateInvoiceUseCase&lt;br/&gt;â€¢ ApproveAuthorizationUseCase&lt;br/&gt;â€¢ ExecuteServiceUseCase&lt;br/&gt;â€¢ ... (Design Patterns: Command, Strategy)&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="app_usecases">
          <mxGeometry x="0" y="30" width="580" height="125" as="geometry" />
        </mxCell>
        <mxCell id="app_services" value="&lt;b&gt;ðŸ”§ BUSINESS SERVICES (12+)&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A5D6A7;strokeColor=#2E7D32;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_app">
          <mxGeometry x="620" y="80" width="700" height="160" as="geometry" />
        </mxCell>
        <mxCell id="app_services_items" value="&lt;span style='font-size:9px'&gt;â€¢ BillingService - GeraÃ§Ã£o de faturas e cobranÃ§a&lt;br/&gt;â€¢ AuthService - AutenticaÃ§Ã£o e autorizaÃ§Ã£o&lt;br/&gt;â€¢ ContractDashboardService - MÃ©tricas de contratos&lt;br/&gt;â€¢ PagBankService - IntegraÃ§Ã£o gateway pagamento&lt;br/&gt;â€¢ PagBankWebhookService - Processamento webhooks&lt;br/&gt;â€¢ AutomatedReportsService - RelatÃ³rios agendados&lt;br/&gt;â€¢ SystemOptimizationService - Performance&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="app_services">
          <mxGeometry x="0" y="30" width="700" height="125" as="geometry" />
        </mxCell>
        <mxCell id="app_permissions" value="&lt;b&gt;ðŸ” AUTHORIZATION ENGINE&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#1B5E20;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_app">
          <mxGeometry x="1340" y="80" width="640" height="160" as="geometry" />
        </mxCell>
        <mxCell id="app_permissions_items" value="&lt;span style='font-size:9px'&gt;â€¢ Sistema de PermissÃµes Granulares:&lt;br/&gt;â€¢   â€¢ 19 Roles (Admin, Manager, User, etc.)&lt;br/&gt;â€¢   â€¢ 215 Permissions especÃ­ficas&lt;br/&gt;â€¢   â€¢ Contextos: system/company/establishment&lt;br/&gt;â€¢ Cache Redis para performance&lt;br/&gt;â€¢ Decorador: @require_permission('resource.action')&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="app_permissions">
          <mxGeometry x="0" y="30" width="640" height="125" as="geometry" />
        </mxCell>
        <mxCell id="layer_infra" value="&lt;b style='font-size:16px'&gt;ðŸ—ï¸ INFRASTRUCTURE LAYER&lt;/b&gt;&lt;br/&gt;&lt;span style='font-size:11px'&gt;RepositÃ³rios + ORM + Database + IntegraÃ§Ãµes Externas&lt;/span&gt;" style="swimlane;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#E65100;strokeWidth=3;rounded=1;shadow=1;fontStyle=1;fontSize=14;swimlaneFillColor=#FFFFFF;startSize=60;" vertex="1" parent="1">
          <mxGeometry x="100" y="1200" width="3000" height="360" as="geometry" />
        </mxCell>
        <mxCell id="infra_repos" value="&lt;b&gt;ðŸ“¦ REPOSITORIES (15+)&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCC80;strokeColor=#EF6C00;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_infra">
          <mxGeometry x="20" y="80" width="460" height="200" as="geometry" />
        </mxCell>
        <mxCell id="infra_repos_items" value="&lt;span style='font-size:9px'&gt;â€¢ CompanyRepository&lt;br/&gt;â€¢ EstablishmentRepository&lt;br/&gt;â€¢ ClientRepository&lt;br/&gt;â€¢ ContractRepository&lt;br/&gt;â€¢ BillingRepository&lt;br/&gt;â€¢ MedicalAuthorizationRepository&lt;br/&gt;â€¢ UserRepository&lt;br/&gt;â€¢ ... (PadrÃ£o Repository)&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="infra_repos">
          <mxGeometry x="0" y="30" width="460" height="165" as="geometry" />
        </mxCell>
        <mxCell id="infra_orm" value="&lt;b&gt;ðŸ—‚ï¸ ORM MODELS (45)&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCC80;strokeColor=#EF6C00;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_infra">
          <mxGeometry x="500" y="80" width="460" height="200" as="geometry" />
        </mxCell>
        <mxCell id="infra_orm_items" value="&lt;span style='font-size:9px'&gt;â€¢ SQLAlchemy Models:&lt;br/&gt;â€¢ User, Role, Permission&lt;br/&gt;â€¢ Company, Establishment&lt;br/&gt;â€¢ People, Client, Professional&lt;br/&gt;â€¢ Contract, ContractLive&lt;br/&gt;â€¢ MedicalAuthorization&lt;br/&gt;â€¢ ContractInvoice, PaymentReceipt&lt;br/&gt;â€¢ ... (2200+ linhas em models.py)&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="infra_orm">
          <mxGeometry x="0" y="30" width="460" height="165" as="geometry" />
        </mxCell>
        <mxCell id="infra_db" value="&lt;b&gt;ðŸ—„ï¸ DATABASE&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9800;strokeColor=#BF360C;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_infra">
          <mxGeometry x="980" y="80" width="460" height="200" as="geometry" />
        </mxCell>
        <mxCell id="infra_db_items" value="&lt;span style='font-size:9px'&gt;â€¢ PostgreSQL 14+&lt;br/&gt;â€¢ Schema: master&lt;br/&gt;â€¢ 45 Tabelas&lt;br/&gt;â€¢ 96 Foreign Keys&lt;br/&gt;â€¢ Indexes otimizados&lt;br/&gt;â€¢ Migrations: Alembic (17 migrations)&lt;br/&gt;â€¢ Multi-tenant por company_id&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="infra_db">
          <mxGeometry x="0" y="30" width="460" height="165" as="geometry" />
        </mxCell>
        <mxCell id="infra_external" value="&lt;b&gt;ðŸŒ EXTERNAL SERVICES&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9800;strokeColor=#BF360C;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_infra">
          <mxGeometry x="1460" y="80" width="520" height="200" as="geometry" />
        </mxCell>
        <mxCell id="infra_external_items" value="&lt;span style='font-size:9px'&gt;â€¢ PagBank API (Pagamentos)&lt;br/&gt;â€¢   - CobranÃ§a recorrente&lt;br/&gt;â€¢   - Webhooks&lt;br/&gt;â€¢ Redis Cache&lt;br/&gt;â€¢   - PermissÃµes&lt;br/&gt;â€¢   - Sessions&lt;br/&gt;â€¢ Geocoding APIs&lt;br/&gt;â€¢ Email Service (SMTP)&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="infra_external">
          <mxGeometry x="0" y="30" width="520" height="165" as="geometry" />
        </mxCell>
        <mxCell id="infra_auth" value="&lt;b&gt;ðŸ”‘ AUTH &amp; SECURITY&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_infra">
          <mxGeometry x="2000" y="80" width="460" height="200" as="geometry" />
        </mxCell>
        <mxCell id="infra_auth_items" value="&lt;span style='font-size:9px'&gt;â€¢ JWT Token Generation&lt;br/&gt;â€¢ Password Hashing (bcrypt)&lt;br/&gt;â€¢ Token Validation&lt;br/&gt;â€¢ Refresh Token Logic&lt;br/&gt;â€¢ Session Management&lt;br/&gt;â€¢ CORS Configuration&lt;br/&gt;â€¢ Rate Limiting&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="infra_auth">
          <mxGeometry x="0" y="30" width="460" height="165" as="geometry" />
        </mxCell>
        <mxCell id="layer_domain" value="&lt;b style='font-size:16px'&gt;ðŸ’Ž DOMAIN LAYER&lt;/b&gt;&lt;br/&gt;&lt;span style='font-size:11px'&gt;Entidades de NegÃ³cio Puras + Value Objects + Regras de DomÃ­nio&lt;/span&gt;" style="swimlane;whiteSpace=wrap;html=1;fillColor=#F8BBD0;strokeColor=#C2185B;strokeWidth=3;rounded=1;shadow=1;fontStyle=1;fontSize=14;swimlaneFillColor=#FFFFFF;startSize=60;" vertex="1" parent="1">
          <mxGeometry x="100" y="1600" width="3000" height="220" as="geometry" />
        </mxCell>
        <mxCell id="domain_entities" value="&lt;b&gt;ðŸ›ï¸ ENTITIES&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F48FB1;strokeColor=#AD1457;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_domain">
          <mxGeometry x="20" y="80" width="900" height="100" as="geometry" />
        </mxCell>
        <mxCell id="domain_entities_items" value="&lt;span style='font-size:9px'&gt;â€¢ User â€¢ Role â€¢ Permission â€¢ Company â€¢ Establishment&lt;br/&gt;â€¢ People â€¢ Client â€¢ Professional â€¢ Contract â€¢ ContractLive&lt;br/&gt;â€¢ MedicalAuthorization â€¢ ServiceExecution â€¢ Invoice â€¢ PaymentReceipt&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="domain_entities">
          <mxGeometry x="0" y="30" width="900" height="65" as="geometry" />
        </mxCell>
        <mxCell id="domain_values" value="&lt;b&gt;ðŸ“ VALUE OBJECTS &amp; ENUMS&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F48FB1;strokeColor=#AD1457;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_domain">
          <mxGeometry x="940" y="80" width="900" height="100" as="geometry" />
        </mxCell>
        <mxCell id="domain_values_items" value="&lt;span style='font-size:9px'&gt;â€¢ ContractType, ContractStatus, InvoiceStatus, VerificationStatus&lt;br/&gt;â€¢ PaymentMethod, BillingCycle, ServiceCategory, Priority, ContextType&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="domain_values">
          <mxGeometry x="0" y="30" width="900" height="65" as="geometry" />
        </mxCell>
        <mxCell id="domain_rules" value="&lt;b&gt;ðŸ“œ BUSINESS RULES&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EC407A;strokeColor=#880E4F;strokeWidth=2;shadow=1;fontStyle=1;fontSize=12;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="layer_domain">
          <mxGeometry x="1860" y="80" width="600" height="100" as="geometry" />
        </mxCell>
        <mxCell id="domain_rules_items" value="&lt;span style='font-size:9px'&gt;â€¢ ValidaÃ§Ãµes de DomÃ­nio&lt;br/&gt;â€¢ Invariantes de NegÃ³cio&lt;br/&gt;â€¢ PolÃ­ticas de Contratos&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingRight=5;spacingTop=5;" vertex="1" parent="domain_rules">
          <mxGeometry x="0" y="30" width="600" height="65" as="geometry" />
        </mxCell>
        <mxCell id="arrow_frontend_api" value="HTTP/REST&#10;JSON" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fontSize=11;fontStyle=1;strokeColor=#1976D2;" edge="1" parent="1" source="frontend_services" target="layer_api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_api_app" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fontSize=11;fontStyle=1;strokeColor=#F57F17;" edge="1" parent="1" source="layer_api" target="app_services">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_app_infra" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fontSize=11;fontStyle=1;strokeColor=#388E3C;" edge="1" parent="1" source="app_services" target="infra_repos">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_infra_db" value="SQL" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fontSize=11;fontStyle=1;strokeColor=#E65100;" edge="1" parent="1" source="infra_orm" target="infra_db">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_app_domain" value="usa" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fontSize=11;fontStyle=1;strokeColor=#C2185B;dashed=1;" edge="1" parent="1" source="app_usecases" target="domain_entities">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="db_server" value="&lt;b style='font-size:14px'&gt;ðŸ—„ï¸ PostgreSQL Server&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;&lt;b&gt;Host:&lt;/b&gt; 192.168.11.62:5432&lt;br/&gt;&lt;b&gt;Database:&lt;/b&gt; pro_team_care_11&lt;br/&gt;&lt;b&gt;Schema:&lt;/b&gt; master&lt;br/&gt;&lt;b&gt;Tabelas:&lt;/b&gt; 45&lt;br/&gt;&lt;b&gt;FKs:&lt;/b&gt; 96&lt;br/&gt;&lt;b&gt;Encoding:&lt;/b&gt; UTF-8" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#B0BEC5;strokeColor=#37474F;strokeWidth=3;shadow=1;fontStyle=0;fontSize=11;align=left;spacingLeft=15;" vertex="1" parent="1">
          <mxGeometry x="3220" y="1280" width="280" height="220" as="geometry" />
        </mxCell>
        <mxCell id="arrow_db_server" value="PostgreSQL&#10;Driver" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;fontSize=11;fontStyle=1;strokeColor=#37474F;" edge="1" parent="1" source="infra_db" target="db_server">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="footer_box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#666666;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="1860" width="3400" height="110" as="geometry" />
        </mxCell>
        <mxCell id="footer_title" value="&lt;b style='font-size:14px'&gt;STACK TECNOLÃ“GICO COMPLETO&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;spacingLeft=20;" vertex="1" parent="1">
          <mxGeometry x="100" y="1870" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="footer_content" value="&lt;table style='font-size:10px; width:100%; border-collapse: collapse;'&gt;&#10;&lt;tr&gt;&#10;  &lt;td style='padding:3px 20px;'&gt;&lt;b&gt;ðŸ Backend:&lt;/b&gt; Python 3.12 + FastAPI + SQLAlchemy + Alembic + Pydantic&lt;/td&gt;&#10;  &lt;td style='padding:3px 20px;'&gt;&lt;b&gt;âš›ï¸ Frontend:&lt;/b&gt; React 18 + TypeScript + Vite + TailwindCSS + Flowbite&lt;/td&gt;&#10;&lt;/tr&gt;&#10;&lt;tr&gt;&#10;  &lt;td style='padding:3px 20px;'&gt;&lt;b&gt;ðŸ—„ï¸ Database:&lt;/b&gt; PostgreSQL 14+ (schema master, 45 tabelas)&lt;/td&gt;&#10;  &lt;td style='padding:3px 20px;'&gt;&lt;b&gt;ðŸ” Auth:&lt;/b&gt; JWT + bcrypt + 215 permissÃµes granulares&lt;/td&gt;&#10;&lt;/tr&gt;&#10;&lt;tr&gt;&#10;  &lt;td style='padding:3px 20px;'&gt;&lt;b&gt;ðŸš€ API:&lt;/b&gt; REST (200+ endpoints) + OpenAPI/Swagger&lt;/td&gt;&#10;  &lt;td style='padding:3px 20px;'&gt;&lt;b&gt;ðŸ“¦ Cache:&lt;/b&gt; Redis (permissÃµes + sessÃµes)&lt;/td&gt;&#10;&lt;/tr&gt;&#10;&lt;tr&gt;&#10;  &lt;td style='padding:3px 20px;'&gt;&lt;b&gt;ðŸ—ï¸ Arquitetura:&lt;/b&gt; Clean Architecture (Hexagonal)&lt;/td&gt;&#10;  &lt;td style='padding:3px 20px;'&gt;&lt;b&gt;ðŸŒ IntegraÃ§Ãµes:&lt;/b&gt; PagBank API + Geocoding&lt;/td&gt;&#10;&lt;/tr&gt;&#10;&lt;/table&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="120" y="1895" width="3360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="signature" value="&lt;i&gt;Gerado automaticamente por Claude Code â€¢ Arquitetura validada com cÃ³digo-fonte real â€¢ Pro Team Care Â© 2025&lt;/i&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="100" y="1975" width="3400" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
